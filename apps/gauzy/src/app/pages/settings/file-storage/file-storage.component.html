<form (ngSubmit)="submit()" #form="ngForm" aria-labelledby="title">
<nb-card class="card-scroll">
	<nb-card-header class="d-flex justify-content-between">
		<h4>{{ 'MENU.SETTINGS' | translate }} - {{ 'MENU.FILE_STORAGE' | translate }}</h4>
	</nb-card-header>
	<nb-card-body>
		<div class="form-group">
			<ng-template [ngIf]="fileStorageProviders.length > 0">
				<label 
					class="label cols-sm-3"
					[innerText]="'SETTINGS_FILE_STORAGE.FILE_PROVIDER' | translate"
				></label>
				<nb-select
					class="d-block"
					size="medium"
					[(selected)]="settings.fileStorageProvider"
				>
					<nb-option
						*ngFor="let providerName of fileStorageProviders"
						[value]="providerName.value"
					>
						{{ providerName?.label | titlecase }}
					</nb-option>
				</nb-select>
			</ng-template>
		</div>
		<ng-template
			[ngIf]="settings.fileStorageProvider == fileStorageProviderEnum.S3"
		>
			<nb-card>
				<nb-card-header>
					<h6>
						{{ 'SETTINGS_FILE_STORAGE.S3_DETAILS' | translate }}
					</h6>
				</nb-card-header>
				<nb-card-body>
					<div class="form-group row">
						<label class="label col-sm-3">{{
							'SETTINGS_FILE_STORAGE.ACCESS_KEY_ID' | translate
						}}</label>
						<div class="col-sm-9">
							<input
								name="aws_access_key_id"
								[(ngModel)]="settings.aws_access_key_id"
								nbInput
								fullWidth
								class="w-100"
								[placeholder]="
									'SETTINGS_FILE_STORAGE.ACCESS_KEY_ID'
										| translate
								"
								required
							/>
						</div>
					</div>
					<div class="form-group row">
						<label class="label col-sm-3">{{
							'SETTINGS_FILE_STORAGE.SECRET_ACCESS_KEY'
								| translate
						}}</label>
						<div class="col-sm-9">
							<input
								name="aws_secret_access_key"
								[(ngModel)]="settings.aws_secret_access_key"
								nbInput
								fullWidth
								class="w-100"
								[placeholder]="
									'SETTINGS_FILE_STORAGE.SECRET_ACCESS_KEY'
										| translate
								"
								required
							/>
						</div>
					</div>
					<div class="form-group row">
						<label class="label col-sm-3">{{
							'SETTINGS_FILE_STORAGE.REGION' | translate
						}}</label>
						<div class="col-sm-9">
							<input
								name="aws_default_region"
								[(ngModel)]="settings.aws_default_region"
								nbInput
								fullWidth
								class="w-100"
								[placeholder]="
									'SETTINGS_FILE_STORAGE.REGION' | translate
								"
							/>
						</div>
					</div>
					<div class="form-group row">
						<label class="label col-sm-3">{{
							'SETTINGS_FILE_STORAGE.BUCKET' | translate
						}}</label>
						<div class="col-sm-9">
							<input
								name="aws_bucket"
								[(ngModel)]="settings.aws_bucket"
								nbInput
								fullWidth
								class="w-100"
								[placeholder]="
									'SETTINGS_FILE_STORAGE.BUCKET' | translate
								"
							/>
						</div>
					</div>
				</nb-card-body>
			</nb-card>
		</ng-template>
	</nb-card-body>
	<nb-card-footer class="text-right">
		<button class="mr-3" nbButton status="success" [disabled]="!form.valid">
			{{ 'BUTTONS.SAVE' | translate }}
		</button>
	</nb-card-footer>
</nb-card>
</form>
