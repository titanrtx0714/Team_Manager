<div>
	<img
		*ngIf="displayImageUrl"
		class="featured-image"
		[src]="displayImageUrl"
		alt="Feature image"
	/>
	<img
		*ngIf="!displayImageUrl"
		class="featured-image"
		[src]="'https://afostats.imagead.net/uploads/afo/no_img.png'"
		alt="Feature image"
	/>
</div>

<div class="actions-container mt-2">
	<button
		nbButton
		size="small"
		status="success"
		class="action"
		(click)="onAddImageClick()"
		[nbTooltip]="'INVENTORY_PAGE.ADD_GALLERY_IMAGE' | translate"
		nbTooltipPlacement="top"
		nbTooltipStatus="success"
	>
		<nb-icon icon="plus-circle-outline"></nb-icon>
	</button>
	<div class="actions">
		<button
			nbButton
			status="primary"
			[disabled]="!gallery?.length || !selectedImage"
			(click)="onSetFeaturedClick()"
			[nbTooltip]="'INVENTORY_PAGE.SET_FEATURED_IMAGE' | translate"
			nbTooltipPlacement="top"
			nbTooltipStatus="primary"
			class="action"
			size="small"
		>
			<nb-icon icon="image-outline"></nb-icon>
		</button>
		<button
			nbButton
			size="small"
			[nbTooltip]="'INVENTORY_PAGE.VIEW_GALLERY' | translate"
			nbTooltipPlacement="top"
			nbTooltipStatus="basic"
			status="basic"
			class="action secondary"
			[disabled]="!gallery?.length"
			(click)="onViewGalleryClick()"
		>
			<nb-icon icon="eye-outline"></nb-icon>
			{{ 'BUTTONS.VIEW' | translate }}
		</button>
		<button
			nbButton
			nbTooltipPlacement="top"
			nbTooltipStatus="primary"
			[disabled]="!selectedImage"
			status="basic"
			class="action primary"
			(click)="onEditImageClick()"
			size="small"
		>
			<nb-icon icon="edit-outline"></nb-icon>
			{{ 'BUTTONS.EDIT' | translate }}
		</button>
		<button
			nbButton
			[nbTooltip]="'INVENTORY_PAGE.DELETE_IMAGE' | translate"
			nbTooltipPlacement="top"
			nbTooltipStatus="danger"
			status="basic"
			class="action primary"
			[disabled]="!gallery?.length || !selectedImage"
			(click)="onDeleteImageClick()"
			size="small"
		>
			<nb-icon status="danger" icon="trash-2-outline"></nb-icon>
		</button>
	</div>
</div>

<div class="gallery-preview-items mt-3">
	<div *ngIf="gallery?.length" class="row">
		<div
			class="col-sm-3 col-md-4 gallery-sm-preview"
			*ngFor="let galleryItem of gallery"
			(click)="onSmallImgPreviewClick(galleryItem)"
		>
			<img
				class="gallery-sm-preview-item"
				[src]="galleryItem?.url"
				[ngClass]="{ selected: isSelected(galleryItem) }"
			/>
			<div class="featured-icon" *ngIf="isFeaturedImage(galleryItem)">
				<div class="interview-info">
					<nb-icon
						icon="checkmark-circle-2-outline"
						status="sucess"
						class="icons"
					></nb-icon>
				</div>
			</div>
		</div>
	</div>
</div>
