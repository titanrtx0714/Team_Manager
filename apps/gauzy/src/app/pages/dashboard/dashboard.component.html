<nb-card>
  <nb-card-header class="header">


    <h4
      *ngIf="
        selectedDate && selectedEmployee && selectedEmployee.id;
        else noName
      " 
    >
      {{ selectedEmployee.firstName }} {{ selectedEmployee.lastName }} - {{ selectedDate | date: 'LLLL y' }}
    </h4>
    <ng-template #noName>
      <h4>Employee Statistics</h4>
    </ng-template>
  </nb-card-header>
  <nb-card-body>
    <div *ngIf="hasRole; else noRole">
      <div *ngIf="selectedDate && selectedEmployee && selectedEmployee.id; else notSelected">
        <h6
          class="clickable"
          (click)="openHistoryDialog('INCOME')"
        >
          <span>Total Gross Revenue: {{ totalIncome }}</span>
          <nb-icon
            class="ml-2"
            icon="link-2-outline"
            nbTooltip="Open Records History"
            nbTooltipTrigger="hover"
          ></nb-icon>
        </h6>
        <h6 class="clickable" (click)="openHistoryDialog('EXPENSE')">
          <span>Total Expenses: {{ totalExpense }}</span>
          <nb-icon
            class="ml-2"
            icon="link-2-outline"
            nbTooltip="Open Records History"
            nbTooltipTrigger="hover"
          ></nb-icon>
        </h6>
        <h6>Profit: {{ difference }}</h6>
        <h6>Bonus: {{ bonus }}</h6>
      </div>
    </div>

    <ng-template #notSelected>
      <span>Please select a month and employee from the menu above</span>
    </ng-template>

    <ng-template #noRole>
      <span>Insert text for not authenticated users</span>
    </ng-template>
  </nb-card-body>
</nb-card>
