<nb-card>
  <nb-card-header class="d-flex">
    <h5>{{ 'EMPLOYEES_PAGE.ADD_EMPLOYEE' | translate }}</h5>
    <nb-icon class="ml-auto mt-1 close" icon="close-outline" (click)="closeDialog()"></nb-icon>
  </nb-card-header>
  <nb-card-body>
    <nb-stepper [linear]="linear" orientation="horizontal" disableStepNavigation #stepper>
      <nb-step [label]="step1">
        <ng-template #step1>{{
          'EMPLOYEES_PAGE.ADD_EMPLOYEES.STEP_1' | translate
          }}</ng-template>
          <div *ngFor="let employe of employees">
            <button
            nbButton
            [size]="buttonSize || 'medium'"
            (click)="delete(employe)"
            status="danger"
            class="mr-2 mb-2"
          >
            <nb-icon class="mr-1" icon="trash-2-outline"></nb-icon
            >{{ 'BUTTONS.DELETE' | translate }}
          </button>
          {{employe.user.email}}
          </div>
        <ga-user-basic-info-form #userBasicInfo [isShowRole]="false" [isEmployee]="true"></ga-user-basic-info-form>
          <div class="text-right">
            <button class="mr-2" status="primary" (click)="nextStep()" *ngIf="employees.length"  nbButton >
              {{ 'BUTTONS.CANCEL' | translate }}
            </button>
            <button status="success" [disabled]="userBasicInfo.form.invalid" nbButton nbStepperNext>
              {{ 'EMPLOYEES_PAGE.ADD_EMPLOYEES.NEXT' | translate }}
            </button>
          </div>
      </nb-step>
      <nb-step [label]="step2">
        <ng-template #step2>{{
          'EMPLOYEES_PAGE.ADD_EMPLOYEES.STEP_2' | translate
          }}</ng-template>
        <div class="step-container button-container">
          <button status="primary" nbButton nbStepperPrevious>
            {{
            'EMPLOYEES_PAGE.ADD_EMPLOYEES.PREVIOUS' | translate
            }}
          </button>
          <button nbButton (click)="addEmployee()">
            {{
            'EMPLOYEES_PAGE.ADD_EMPLOYEES.ADD_ANOTHER_EMPLOYEE'
            | translate
            }}
          </button>
          <button status="success" [disabled]="userBasicInfo.form.invalid" nbButton nbStepperNext>
            {{ 'EMPLOYEES_PAGE.ADD_EMPLOYEES.NEXT' | translate }}
          </button>
        </div>
      </nb-step>
      <nb-step [label]="step2" [hidden]="true">
        <div class="step-container">
          <div class="button-container">
            <button status="primary" nbButton nbStepperPrevious>
              {{
              'EMPLOYEES_PAGE.ADD_EMPLOYEES.PREVIOUS' | translate
              }}
            </button>
            <button status="success" (click)="add()" nbButton>
              {{
              'EMPLOYEES_PAGE.ADD_EMPLOYEES.FINISHED_ADDING'
              | translate
              }}
            </button>
          </div>
        </div>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>
